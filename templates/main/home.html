{% extends 'base.html' %}
{% load static %}

{% block title %}AltaiResort ‚Äî —É—é—Ç–Ω—ã–µ –¥–æ–º–∞ –≤ –≥–æ—Ä–∞—Ö –ê–ª—Ç–∞—è | –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–Ω–ª–∞–π–Ω{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero" id="home" aria-label="–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω">
    <div class="hero__video-bg">
        <img src="{% static 'images/1.jpeg' %}" alt="–í–∏–¥ –Ω–∞ –ê–ª—Ç–∞–π—Å–∫–∏–µ –≥–æ—Ä—ã - –∑–∞—Å–Ω–µ–∂–µ–Ω–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã –∏ –∑–µ–ª–µ–Ω—ã–µ —Å–∫–ª–æ–Ω—ã">
    </div>
    <div class="hero__content">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-lg-8">
                    <h2 class="hero__title">–í–∞—à–∞ —Ç–∏—à–∏–Ω–∞ –Ω–∞ –ê–ª—Ç–∞–µ</h2>
                    <p class="hero__subtitle">–£—é—Ç–Ω–∞—è –±–∞–∑–∞ –æ—Ç–¥—ã—Ö–∞ —Å –¥–æ–º–∞—à–Ω–µ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π –≤ —Å–µ—Ä–¥—Ü–µ –≥–æ—Ä</p>
                    <a href="{% url 'main:booking' %}" class="btn btn-primary btn-lg hero__cta-btn">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º</a>
                </div>
            </div>
        </div>
    </div>
    <div class="hero__scroll-indicator" aria-hidden="true">
        <span>–õ–∏—Å—Ç–∞–π—Ç–µ –≤–Ω–∏–∑</span>
        <div class="scroll-arrow"></div>
    </div>
</section>

<!-- About Section -->
<section class="about" id="about" aria-label="–û –Ω–∞—à–µ–π –±–∞–∑–µ –æ—Ç–¥—ã—Ö–∞">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="about__text">
                    <h2 class="section-title">–û –Ω–∞—à–µ–π –±–∞–∑–µ –æ—Ç–¥—ã—Ö–∞</h2>
                    <p class="lead">–ú—ã —Å–æ–∑–¥–∞–ª–∏ –º–µ—Å—Ç–æ, –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –æ—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—É–µ—Ç—ã. –ù–∞—à–∞ –±–∞–∑–∞ –æ—Ç–¥—ã—Ö–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –∂–∏–≤–æ–ø–∏—Å–Ω–æ–º —É–≥–æ–ª–∫–µ –ê–ª—Ç–∞—è, –≥–¥–µ –≥–æ—Ä—ã –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å –ª–µ—Å–æ–º, –∞ —Ä–µ–∫–∞ —Å–æ–∑–¥–∞–µ—Ç —É–º–∏—Ä–æ—Ç–≤–æ—Ä—è—é—â–∏–π —à—É–º.</p>
                    <div class="about__features">
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="feature">
                                    <div class="feature__icon" aria-hidden="true">üè†</div>
                                    <div>
                                        <h3>5 —É—é—Ç–Ω—ã—Ö –¥–æ–º–æ–≤</h3>
                                        <p>–û—Ç 2 –¥–æ 6 –º–µ—Å—Ç, –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º –∏ –∫–æ–º—Ñ–æ—Ä—Ç–æ–º</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="feature">
                                    <div class="feature__icon" aria-hidden="true">üå≤</div>
                                    <div>
                                        <h3>–ß–∞—Å—Ç–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è</h3>
                                        <p>15 –≥–µ–∫—Ç–∞—Ä–æ–≤ –ª–µ—Å–∞ –¥–ª—è –≤–∞—à–µ–≥–æ —É–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6 mb-4">
                                <div class="feature">
                                    <div class="feature__icon" aria-hidden="true">üì∂</div>
                                    <div>
                                        <h3>Wi-Fi –≤ –≥–æ—Ä–∞—Ö</h3>
                                        <p>–°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —Å–≤—è–∑–∏ —Å –±–ª–∏–∑–∫–∏–º–∏</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="about__image">
                    <img src="{% static 'images/2.jpeg' %}" alt="–ë–∞–∑–∞ –æ—Ç–¥—ã—Ö–∞ –ê–ª—Ç–∞–π–¢–∏—à–∏–Ω–∞ - –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –¥–æ–º–∏–∫–∏ —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–Ω" class="img-fluid rounded" loading="lazy">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Houses Preview Section -->
{% if houses %}
<section class="houses-preview" aria-label="–ù–∞—à–∏ –¥–æ–º–∞">
    <div class="container">
        <h2 class="section-title text-center">–ù–∞—à–∏ –¥–æ–º–∞</h2>
        <div class="row">
            {% for house in houses %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card house-card h-100">
                    {% if house.image %}
                    <img src="{{ house.image.url }}" class="card-img-top" alt="{{ house.name }}" loading="lazy">
                    {% endif %}
                    <div class="card-body">
                        <h3 class="card-title">{{ house.name }}</h3>
                        <p class="card-text">{{ house.description|truncatewords:20 }}</p>
                        <div class="house-features">
                            <span class="badge bg-primary">üë• {{ house.capacity }} –º–µ—Å—Ç</span>
                            <span class="badge bg-success">üí∞ {{ house.price_per_night }} ‚ÇΩ/–Ω–æ—á—å</span>
                        </div>
                    </div>
                    <div class="card-footer">
                        <a href="{% url 'main:house_detail' house.id %}" class="btn btn-outline-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        <a href="{% url 'main:booking' %}?house={{ house.id }}" class="btn btn-primary">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'main:houses_list' %}" class="btn btn-outline-primary btn-lg">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ–º–∞</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Static Houses Cards if no DB items or to showcase -->
<section class="houses-preview" aria-label="–ù–∞—à–∏ –¥–æ–º–∞ (–ø—Ä–∏–º–µ—Ä)">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6 mb-4">
                <div class="card house-card h-100">
                    <img src="{% static 'images/3.jpeg' %}" class="card-img-top" alt="–î–æ–º ‚Ññ1" loading="lazy">
                    <div class="card-body">
                        <h3 class="card-title">–î–æ–º ¬´–õ–µ—Å–Ω–æ–π¬ª</h3>
                        <p class="card-text">–£—é—Ç–Ω—ã–π –¥–æ–º —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–Ω, –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞. –¢–µ—Ä—Ä–∞—Å–∞, –º–∞–Ω–≥–∞–ª, –ø–∞—Ä–∫–æ–≤–∫–∞.</p>
                        <div class="house-features">
                            <span class="badge bg-primary">üë• 4 –º–µ—Å—Ç–∞</span>
                            <span class="badge bg-success">üí∞ 4500 ‚ÇΩ/–Ω–æ—á—å</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 mb-4">
                <div class="card house-card h-100">
                    <img src="{% static 'images/4.jpeg' %}" class="card-img-top" alt="–î–æ–º ‚Ññ2" loading="lazy">
                    <div class="card-body">
                        <h3 class="card-title">–î–æ–º ¬´–ì–æ—Ä–Ω—ã–π¬ª</h3>
                        <p class="card-text">–°–≤–µ—Ç–ª—ã–π –¥–æ–º —Å –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ –∏ –≤–∏–¥–æ–º –Ω–∞ –≥–æ—Ä—ã. –†—è–¥–æ–º –ø—Ä–æ–≥—É–ª–æ—á–Ω—ã–µ —Ç—Ä–æ–ø—ã.</p>
                        <div class="house-features">
                            <span class="badge bg-primary">üë• 6 –º–µ—Å—Ç</span>
                            <span class="badge bg-success">üí∞ 5500 ‚ÇΩ/–Ω–æ—á—å</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 </section>

<!-- Advantages Section -->
<section class="advantages" aria-label="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –±–∞–∑—ã –æ—Ç–¥—ã—Ö–∞">
    <div class="container">
        <h2 class="section-title text-center">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="advantage text-center">
                    <div class="advantage__icon" aria-hidden="true">üì∂</div>
                    <h3>Wi-Fi –≤ –≥–æ—Ä–∞—Ö</h3>
                    <p>–°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–∞–∂–µ –≤ —Å–∞–º—ã—Ö –æ—Ç–¥–∞–ª–µ–Ω–Ω—ã—Ö —É–≥–æ–ª–∫–∞—Ö –¥–ª—è —Å–≤—è–∑–∏ —Å –±–ª–∏–∑–∫–∏–º–∏</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="advantage text-center">
                    <div class="advantage__icon" aria-hidden="true">üöó</div>
                    <h3>–£–¥–æ–±–Ω—ã–π –ø–æ–¥—ä–µ–∑–¥</h3>
                    <p>–î–æ—Ä–æ–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞, –µ—Å—Ç—å –ø–∞—Ä–∫–æ–≤–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="advantage text-center">
                    <div class="advantage__icon" aria-hidden="true">üçΩÔ∏è</div>
                    <h3>–ö—É—Ö–Ω—è-—Å—Ç–æ–ª–æ–≤–∞—è</h3>
                    <p>–î–æ–º–∞—à–Ω—è—è –µ–¥–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–Ω–æ–π –∫—É—Ö–Ω–µ</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="advantage text-center">
                    <div class="advantage__icon" aria-hidden="true">üé£</div>
                    <h3>–†—ã–±–∞–ª–∫–∞</h3>
                    <p>–û–∑–µ—Ä–æ —Å —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π –∏ –±–æ–≥–∞—Ç–æ–π –∏—Ö—Ç–∏–æ—Ñ–∞—É–Ω–æ–π</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Gallery Preview Section -->
{% if gallery_images %}
<section class="gallery-preview" id="gallery" aria-label="–§–æ—Ç–æ–≥–∞–ª–µ—Ä–µ—è –±–∞–∑—ã –æ—Ç–¥—ã—Ö–∞">
    <div class="container">
        <h2 class="section-title text-center">–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É</h2>
        <div class="row">
            {% for image in gallery_images %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="gallery-item">
                    <img src="{{ image.image.url }}" alt="{{ image.alt_text }}" class="img-fluid rounded" loading="lazy">
                    <div class="gallery-caption">
                        <h4>{{ image.title }}</h4>
                        {% if image.description %}
                        <p>{{ image.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'main:gallery' %}" class="btn btn-outline-primary btn-lg">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å—é –≥–∞–ª–µ—Ä–µ—é</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Reviews Preview Section -->
{% if reviews %}
<section class="reviews-preview" aria-label="–û—Ç–∑—ã–≤—ã –≥–æ—Å—Ç–µ–π">
    <div class="container">
        <h2 class="section-title text-center">–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –≥–æ—Å—Ç–µ–π</h2>
        <div class="row">
            {% for review in reviews %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card review-card h-100">
                    <div class="card-body">
                        <div class="review-header">
                            {% if review.avatar %}
                            <img src="{{ review.avatar.url }}" alt="–§–æ—Ç–æ {{ review.guest_name }}" class="review-avatar" loading="lazy">
                            {% endif %}
                            <div class="review-info">
                                <h4 class="review-author">{{ review.guest_name }}</h4>
                                <div class="review-rating">
                                    {% for i in "12345" %}
                                    {% if forloop.counter <= review.rating %}
                                    <span class="star filled">‚≠ê</span>
                                    {% else %}
                                    <span class="star">‚òÜ</span>
                                    {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <p class="review-text">{{ review.text|truncatewords:30 }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'main:reviews' %}" class="btn btn-outline-primary btn-lg">–ß–∏—Ç–∞—Ç—å –≤—Å–µ –æ—Ç–∑—ã–≤—ã</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Map Section -->
<section class="map-section" id="contacts" aria-label="–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –±–∞–∑—ã –æ—Ç–¥—ã—Ö–∞">
    <div class="container">
        <h2 class="section-title text-center">–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è</h2>
        <div class="row">
            <div class="col-lg-6">
                <div class="map-info">
                    {% if contact %}
                    <h3>–ê–¥—Ä–µ—Å</h3>
                    <address>
                        <p>–ü—Ä–æ—Ö–ª–∞–¥–Ω–∞—è —É–ª–∏—Ü–∞, 4, —Å. –û–∑–µ—Ä–Ω–æ–µ, –ú–∞–π–º–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π</p>
                    </address>
                    
                    <h3>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</h3>
                    <p>{{ contact.coordinates_lat }}¬∞ N, {{ contact.coordinates_lng }}¬∞ E</p>
                    
                    <h3>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h3>
                    <p>{{ contact.working_hours }}</p>
                    {% endif %}
                    
                    <div class="map-buttons">
                        <a href="https://2gis.ru/search/%D0%9F%D1%80%D0%BE%D1%85%D0%BB%D0%B0%D0%B4%D0%BD%D0%B0%D1%8F%20%D1%83%D0%BB%D0%B8%D1%86%D0%B0%2C%204%2C%20%D1%81.%20%D0%9E%D0%B7%D0%B5%D1%80%D0%BD%D0%BE%D0%B5%2C%20%D0%9C%D0%B0%D0%B9%D0%BC%D0%B8%D0%BD%D1%81%D0%BA%D0%B8%D0%B9%20%D1%80-%D0%BD%2C%20%D0%A0%D0%B5%D1%81%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%20%D0%90%D0%BB%D1%82%D0%B0%D0%B9" class="btn btn-secondary" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å –≤ 2–ì–ò–°</a>
                        <a href="https://2gis.ru/routeSearch/rsType/car/to/%D0%9F%D1%80%D0%BE%D1%85%D0%BB%D0%B0%D0%B4%D0%BD%D0%B0%D1%8F%20%D1%83%D0%BB%D0%B8%D1%86%D0%B0%2C%204%2C%20%D1%81.%20%D0%9E%D0%B7%D0%B5%D1%80%D0%BD%D0%BE%D0%B5%2C%20%D0%9C%D0%B0%D0%B9%D0%BC%D0%B8%D0%BD%D1%81%D0%BA%D0%B8%D0%B9%20%D1%80-%D0%BD%2C%20%D0%A0%D0%B5%D1%81%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%20%D0%90%D0%BB%D1%82%D0%B0%D0%B9" class="btn btn-outline-primary" target="_blank" rel="noopener">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="map-container">
                    <iframe src="https://widgets.2gis.com/widget?type=firmsonmap&options={%7B%22position%22:%7B%22lat%22:51.821091,%22lon%22:85.802135,%22zoom%22:15%7D,%22opt%22:%7B%22city%22:%22altai%22%7D%7D}" width="100%" height="400" frameborder="0" style="border:0;border-radius:12px;" allowfullscreen aria-label="–ö–∞—Ä—Ç–∞ 2–ì–ò–°"></iframe>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta" aria-label="–ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2>–ì–æ—Ç–æ–≤—ã –∫ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–æ–º—É –æ—Ç–¥—ã—Ö—É?</h2>
                <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–∞—Ç –∏ –∑–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –æ—Ç–ø—É—Å–∫ –≤ –≥–æ—Ä–∞—Ö –ê–ª—Ç–∞—è</p>
                <a href="{% url 'main:booking' %}" class="btn btn-primary btn-lg">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—ã</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}


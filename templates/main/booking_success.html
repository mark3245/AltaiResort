{% extends 'base.html' %}
{% load static %}

{% block title %}–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ ‚Äî AltaiResort{% endblock %}

{% block content %}
<section class="booking-success-page py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="text-center mb-5">
                    <div class="success-icon mb-4">
                        <span>‚úÖ</span>
                    </div>
                    <h1 class="section-title text-success">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!</h1>
                    <p class="lead">–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤—ã–±–æ—Ä! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.</p>
                </div>

                <!-- Booking details -->
                <div class="card shadow mb-5">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">–î–µ—Ç–∞–ª–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–º–µ</h5>
                                <p><strong>–ù–∞–∑–≤–∞–Ω–∏–µ:</strong> {{ booking.house.name }}</p>
                                <p><strong>–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:</strong> {{ booking.house.capacity }} –º–µ—Å—Ç</p>
                                <p><strong>–¶–µ–Ω–∞ –∑–∞ –Ω–æ—á—å:</strong> {{ booking.house.price_per_night }} ‚ÇΩ</p>
                            </div>
                            <div class="col-md-6">
                                <h5>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ—Å—Ç–µ</h5>
                                <p><strong>–ò–º—è:</strong> {{ booking.guest_name }}</p>
                                <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ booking.guest_phone }}</p>
                                {% if booking.guest_email %}
                                <p><strong>Email:</strong> {{ booking.guest_email }}</p>
                                {% endif %}
                            </div>
                        </div>
                        
                        <hr>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>–î–∞—Ç—ã –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è</h5>
                                <p><strong>–ó–∞–µ–∑–¥:</strong> {{ booking.check_in_date|date:"d.m.Y" }}</p>
                                <p><strong>–í—ã–µ–∑–¥:</strong> {{ booking.check_out_date|date:"d.m.Y" }}</p>
                                <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—á–µ–π:</strong> 
                                    {% widthratio booking.check_out_date|date:"U" booking.check_in_date|date:"U" 86400 %}
                                </p>
                            </div>
                            <div class="col-md-6">
                                <h5>–°—Ç–æ–∏–º–æ—Å—Ç—å</h5>
                                <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> <span class="text-primary fw-bold">{{ booking.total_price }} ‚ÇΩ</span></p>
                                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> 
                                    <span class="badge bg-warning">{{ booking.get_status_display }}</span>
                                </p>
                            </div>
                        </div>
                        
                        {% if booking.special_requests %}
                        <hr>
                        <div class="row">
                            <div class="col-12">
                                <h5>–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</h5>
                                <p>{{ booking.special_requests }}</p>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Next steps -->
                <div class="card shadow mb-5">
                    <div class="card-header bg-info text-white">
                        <h3 class="mb-0">–ß—Ç–æ –¥–∞–ª—å—à–µ?</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="step-item">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h5>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h5>
                                        <p>–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="step-item">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h5>–ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞</h5>
                                        <p>–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 30% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="step-item">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h5>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</h5>
                                        <p>–ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –¥–æ–º –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–µ–∑–¥—É –∏ –æ—Ç–ø—Ä–∞–≤–∏–º –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="step-item">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h5>–ü—Ä–∏–µ–∑–¥</h5>
                                        <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ó–∞–µ–∑–¥ —Å 14:00, –≤—ã–µ–∑–¥ –¥–æ 12:00</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Important information -->
                <div class="card shadow mb-5">
                    <div class="card-header bg-warning text-dark">
                        <h3 class="mb-0">‚ö†Ô∏è –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li class="mb-2">üìû <strong>–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏:</strong> {{ contact.phone|default:"+7 (999) 123-45-67" }}</li>
                            <li class="mb-2">üìß <strong>Email:</strong> {{ contact.email|default:"info@altairesort.ru" }}</li>
                            <li class="mb-2">üìç <strong>–ê–¥—Ä–µ—Å:</strong> {{ contact.address|default:"—Å. –û–∑–µ—Ä–Ω–æ–µ, –ú–∞–π–º–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π" }}</li>
                            <li class="mb-2">‚è∞ <strong>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</strong> {{ contact.working_hours|default:"–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ" }}</li>
                        </ul>
                        
                        <div class="alert alert-info mt-3">
                            <strong>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:</strong> –ó–∞–µ–∑–¥ —Å 14:00, –≤—ã–µ–∑–¥ –¥–æ 12:00. –ü—Ä–∏ —Ä–∞–Ω–Ω–µ–º –∑–∞–µ–∑–¥–µ –∏–ª–∏ –ø–æ–∑–¥–Ω–µ–º –≤—ã–µ–∑–¥–µ —É—Ç–æ—á–Ω–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞—Ä–∞–Ω–µ–µ.
                        </div>
                    </div>
                </div>

                <!-- CTA buttons -->
                <div class="text-center">
                    <div class="cta-buttons">
                        <a href="{% url 'main:houses_list' %}" class="btn btn-outline-primary btn-lg me-3">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –¥–æ–º–∞</a>
                        <a href="{% url 'main:contact' %}" class="btn btn-primary btn-lg">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</a>
                    </div>
                </div>

                <!-- Additional services -->
                <div class="additional-services mt-5">
                    <h3 class="text-center mb-4">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="service-card text-center p-3">
                                <div class="service-icon mb-2">üöó</div>
                                <h5>–¢—Ä–∞–Ω—Å—Ñ–µ—Ä</h5>
                                <p>–í—Å—Ç—Ä–µ—á–∞ –≤ –ß–µ–º–∞–ª–µ - 500 ‚ÇΩ</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="service-card text-center p-3">
                                <div class="service-icon mb-2">üçΩÔ∏è</div>
                                <h5>–ü–∏—Ç–∞–Ω–∏–µ</h5>
                                <p>–ó–∞–≤—Ç—Ä–∞–∫, –æ–±–µ–¥, —É–∂–∏–Ω</p>
                            </div>
                        </div>
                        <!-- –£—Å–ª—É–≥–∞ –ë–∞–Ω—è —É–¥–∞–ª–µ–Ω–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.success-icon span {
    font-size: 4rem;
    animation: bounceIn 0.8s ease-out;
}

.step-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.step-number {
    width: 40px;
    height: 40px;
    background: var(--primary-color);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-right: 1rem;
    flex-shrink: 0;
}

.step-content h5 {
    color: var(--primary-color);
    margin-bottom: 0.5rem;
}

.service-card {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    transition: all 0.3s ease;
}

.service-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.service-icon {
    font-size: 2rem;
}

.cta-buttons .btn {
    margin-bottom: 1rem;
}

@media (max-width: 768px) {
    .step-item {
        flex-direction: column;
        text-align: center;
    }
    
    .step-number {
        margin-right: 0;
        margin-bottom: 1rem;
        align-self: center;
    }
}
</style>
{% endblock %}






{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî AltaiResort{% endblock %}

{% block content %}
<section class="contact-page py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="text-center mb-5">
                    <h1 class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
                    <p class="lead">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º</p>
                </div>

                <div class="row">
                    <!-- Contact Information -->
                    <div class="col-lg-5 mb-5">
                        <div class="contact-info">
                            <h3>–ö–∞–∫ —Å –Ω–∞–º–∏ —Å–≤—è–∑–∞—Ç—å—Å—è</h3>
                            
                            {% if contact %}
                            <div class="contact-item">
                                <div class="contact-icon">üìû</div>
                                <div class="contact-details">
                                    <h5>–¢–µ–ª–µ—Ñ–æ–Ω</h5>
                                    <p><a href="tel:{{ contact.phone }}">{{ contact.phone }}</a></p>
                                </div>
                            </div>

                            <div class="contact-item">
                                <div class="contact-icon">‚úâÔ∏è</div>
                                <div class="contact-details">
                                    <h5>Email</h5>
                                    <p><a href="mailto:{{ contact.email }}">{{ contact.email }}</a></p>
                                </div>
                            </div>

                            <div class="contact-item">
                                <div class="contact-icon">üìç</div>
                                <div class="contact-details">
                                    <h5>–ê–¥—Ä–µ—Å</h5>
                                    <p>–ü—Ä–æ—Ö–ª–∞–¥–Ω–∞—è —É–ª–∏—Ü–∞, 4, —Å. –û–∑–µ—Ä–Ω–æ–µ, –ú–∞–π–º–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π</p>
                                    <div class="mt-2">
                                        <a href="https://2gis.ru/search/%D0%9F%D1%80%D0%BE%D1%85%D0%BB%D0%B0%D0%B4%D0%BD%D0%B0%D1%8F%20%D1%83%D0%BB%D0%B8%D1%86%D0%B0%2C%204%2C%20%D1%81.%20%D0%9E%D0%B7%D0%B5%D1%80%D0%BD%D0%BE%D0%B5%2C%20%D0%9C%D0%B0%D0%B9%D0%BC%D0%B8%D0%BD%D1%81%D0%BA%D0%B8%D0%B9%20%D1%80-%D0%BD%2C%20%D0%A0%D0%B5%D1%81%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%20%D0%90%D0%BB%D1%82%D0%B0%D0%B9" class="btn btn-outline-primary btn-sm me-2" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å –≤ 2–ì–ò–°</a>
                                        <a href="https://2gis.ru/routeSearch/rsType/car/to/%D0%9F%D1%80%D0%BE%D1%85%D0%BB%D0%B0%D0%B4%D0%BD%D0%B0%D1%8F%20%D1%83%D0%BB%D0%B8%D1%86%D0%B0%2C%204%2C%20%D1%81.%20%D0%9E%D0%B7%D0%B5%D1%80%D0%BD%D0%BE%D0%B5%2C%20%D0%9C%D0%B0%D0%B9%D0%BC%D0%B8%D0%BD%D1%81%D0%BA%D0%B8%D0%B9%20%D1%80-%D0%BD%2C%20%D0%A0%D0%B5%D1%81%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%20%D0%90%D0%BB%D1%82%D0%B0%D0%B9" class="btn btn-outline-secondary btn-sm" target="_blank" rel="noopener">–ú–∞—Ä—à—Ä—É—Ç</a>
                                    </div>
                                </div>
                            </div>

                            <div class="contact-item">
                                <div class="contact-icon">‚è∞</div>
                                <div class="contact-details">
                                    <h5>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h5>
                                    <p>{{ contact.working_hours }}</p>
                                </div>
                            </div>

                            {% if contact.telegram or contact.whatsapp %}
                            <div class="contact-item">
                                <div class="contact-icon">üí¨</div>
                                <div class="contact-details">
                                    <h5>–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã</h5>
                                    <div class="social-links">
                                        {% if contact.telegram %}
                                        <a href="{{ contact.telegram }}" class="btn btn-outline-primary btn-sm me-2" target="_blank" rel="noopener">
                                            <i class="fab fa-telegram"></i> Telegram
                                        </a>
                                        {% endif %}
                                        {% if contact.whatsapp %}
                                        <a href="{{ contact.whatsapp }}" class="btn btn-outline-success btn-sm" target="_blank" rel="noopener">
                                            <i class="fab fa-whatsapp"></i> WhatsApp
                                        </a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            {% else %}
                            <!-- Default contact info if no contact object -->
                            <div class="contact-item">
                                <div class="contact-icon">üìû</div>
                                <div class="contact-details">
                                    <h5>–¢–µ–ª–µ—Ñ–æ–Ω</h5>
                                    <p><a href="tel:+79991234567">+7 (999) 123-45-67</a></p>
                                </div>
                            </div>

                            <div class="contact-item">
                                <div class="contact-icon">‚úâÔ∏è</div>
                                <div class="contact-details">
                                    <h5>Email</h5>
                                    <p><a href="mailto:info@altai-tishina.ru">info@altai-tishina.ru</a></p>
                                </div>
                            </div>

                            <div class="contact-item">
                                <div class="contact-icon">üìç</div>
                                <div class="contact-details">
                                    <h5>–ê–¥—Ä–µ—Å</h5>
                                    <p>–ü—Ä–æ—Ö–ª–∞–¥–Ω–∞—è —É–ª–∏—Ü–∞, 4, —Å. –û–∑–µ—Ä–Ω–æ–µ, –ú–∞–π–º–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π</p>
                                </div>
                            </div>

                            <div class="contact-item">
                                <div class="contact-icon">‚è∞</div>
                                <div class="contact-details">
                                    <h5>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h5>
                                    <p>–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ, –∑–∞–µ–∑–¥ —Å 14:00, –≤—ã–µ–∑–¥ –¥–æ 12:00</p>
                                </div>
                            </div>
                            {% endif %}

                            <!-- Map coordinates -->
                            <div class="contact-item">
                                <div class="contact-icon">üó∫Ô∏è</div>
                                <div class="contact-details">
                                    <h5>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</h5>
                                    <p>51.821091¬∞ N, 85.802135¬∞ E</p>
                                    <a href="https://2gis.ru/routeSearch/51.821091,85.802135" class="btn btn-outline-primary btn-sm" target="_blank" rel="noopener">
                                        –û—Ç–∫—Ä—ã—Ç—å –≤ 2–ì–ò–°
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Form -->
                    <div class="col-lg-7">
                        <div class="contact-form">
                            <div class="card shadow">
                                <div class="card-body p-4">
                                    <h3 class="mb-4">–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º</h3>
                                    
                                    <form method="post">
                                        {% csrf_token %}
                                        
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                {{ form.name|as_crispy_field }}
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                {{ form.phone|as_crispy_field }}
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            {{ form.email|as_crispy_field }}
                                        </div>

                                        <div class="mb-3">
                                            {{ form.message|as_crispy_field }}
                                        </div>

                                        <div class="text-center">
                                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ section -->
                <div class="faq-section mt-5">
                    <h2 class="text-center mb-4">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq1">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                                    –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–µ—Ö–∞—Ç—å –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?
                                </button>
                            </h2>
                            <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    –ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–∏–∫–∏ –∑–∞—Ä–∞–Ω–µ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–µ–∑–æ–Ω (–∏—é–Ω—å-–∞–≤–≥—É—Å—Ç). –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞, –º—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –ø—Ä–∏–Ω—è—Ç—å –≥–æ—Å—Ç–µ–π.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                    –ï—Å—Ç—å –ª–∏ Wi-Fi –Ω–∞ –±–∞–∑–µ –æ—Ç–¥—ã—Ö–∞?
                                </button>
                            </h2>
                            <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    –î–∞, –Ω–∞ –≤—Å–µ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –±–∞–∑—ã –æ—Ç–¥—ã—Ö–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Wi-Fi. –°–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –æ–±—â–µ–Ω–∏—è —Å –±–ª–∏–∑–∫–∏–º–∏.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq3">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                    –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–µ—Ö–∞—Ç—å —Å –¥–æ–º–∞—à–Ω–∏–º–∏ –∂–∏–≤–æ—Ç–Ω—ã–º–∏?
                                </button>
                            </h2>
                            <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    –î–∞, –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º –≥–æ—Å—Ç–µ–π —Å –¥–æ–º–∞—à–Ω–∏–º–∏ –∂–∏–≤–æ—Ç–Ω—ã–º–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –Ω–∞—Å –∑–∞—Ä–∞–Ω–µ–µ –∏ —Å–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∂–∏–≤–æ—Ç–Ω—ã—Ö –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq4">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                    –ï—Å—Ç—å –ª–∏ –ø–∞—Ä–∫–æ–≤–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π?
                                </button>
                            </h2>
                            <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    –î–∞, –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –±–∞–∑—ã –æ—Ç–¥—ã—Ö–∞ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≥–æ—Å—Ç–µ–π. –ü–∞—Ä–∫–æ–≤–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.contact-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding: 1rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.contact-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.contact-icon {
    font-size: 2rem;
    margin-right: 1rem;
    flex-shrink: 0;
}

.contact-details h5 {
    color: var(--primary-color);
    margin-bottom: 0.5rem;
}

.contact-details p {
    margin-bottom: 0.5rem;
}

.contact-details a {
    color: var(--text-dark);
    text-decoration: none;
    transition: color 0.3s ease;
}

.contact-details a:hover {
    color: var(--primary-color);
}

.social-links .btn {
    margin-bottom: 0.5rem;
}

.contact-form .card {
    border: none;
    border-radius: 12px;
}

.how-to-get-there .card {
    border: none;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.how-to-get-there .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.faq-section .accordion-item {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.faq-section .accordion-button {
    background-color: white;
    color: var(--text-dark);
    border: none;
    border-radius: 8px;
}

.faq-section .accordion-button:not(.collapsed) {
    background-color: var(--primary-color);
    color: white;
}

.faq-section .accordion-button:focus {
    box-shadow: 0 0 0 0.25rem rgba(45, 90, 39, 0.25);
}

@media (max-width: 768px) {
    .contact-item {
        flex-direction: column;
        text-align: center;
    }
    
    .contact-icon {
        margin-right: 0;
        margin-bottom: 1rem;
    }
}
</style>
{% endblock %}

